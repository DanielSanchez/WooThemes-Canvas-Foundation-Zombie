/*
 jquery.layout 1.3.0 - Release Candidate 29.8
 $Date: 2010-09-27 08:00:00 (Mon, 27 Sep 2010) $
 $Rev: 30298 $

 Copyright (c) 2010 
 Fabrizio Balliano (http://www.fabrizioballiano.net)
 Kevin Dalman (http://allpro.net)

 Dual licensed under the GPL (http://www.gnu.org/licenses/gpl.html)
 and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.

 Docs: http://layout.jquery-dev.net/documentation.html
 Tips: http://layout.jquery-dev.net/tips.html
 Help: http://groups.google.com/group/jquery-ui-layout
*/(function($){var $b=$.browser;$.layout={browser:{mozilla:$b.mozilla,webkit:$b.webkit||$b.safari||!1,msie:$b.msie,isIE6:$b.msie&&$b.version==6,boxModel:!1},scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};t.remove();window.scrollbarWidth=n.width;window.scrollbarHeight=n.height;return e.match(/^(width|height)$/i)?n[e]:n},showInvisibly:function(e,t){if(!e)return{};e.jquery||(e=$(e));var n={display:e.css("display"),visibility:e.css("visibility")};if(t||n.display=="none"){e.css({display:"block",visibility:"hidden"});return n}return{}},getElemDims:function(e){var t={},n=t.css={},r={},i,s,o=e.offset();t.offsetLeft=o.left;t.offsetTop=o.top;$.each("Left,Right,Top,Bottom".split(","),function(o,u){i=n["border"+u]=$.layout.borderWidth(e,u);s=n["padding"+u]=$.layout.cssNum(e,"padding"+u);r[u]=i+s;t["inset"+u]=s});t.offsetWidth=e.innerWidth();t.offsetHeight=e.innerHeight();t.outerWidth=e.outerWidth();t.outerHeight=e.outerHeight();t.innerWidth=t.outerWidth-r.Left-r.Right;t.innerHeight=t.outerHeight-r.Top-r.Bottom;n.width=e.width();n.height=e.height();return t},getElemCSS:function(e,t){var n={},r=e[0].style,i=t.split(","),s="Top,Bottom,Left,Right".split(","),o="Color,Style,Width".split(","),u,a,f,l,c,h;for(l=0;l<i.length;l++){u=i[l];if(u.match(/(border|padding|margin)$/))for(c=0;c<4;c++){a=s[c];if(u=="border")for(h=0;h<3;h++){f=o[h];n[u+a+f]=r[u+a+f]}else n[u+a]=r[u+a]}else n[u]=r[u]}return n},cssWidth:function(e,t){var n=$.layout.borderWidth,r=$.layout.cssNum;if(t<=0)return 0;if(!$.layout.browser.boxModel)return t;var i=t-n(e,"Left")-n(e,"Right")-r(e,"paddingLeft")-r(e,"paddingRight");return i>0?i:0},cssHeight:function(e,t){var n=$.layout.borderWidth,r=$.layout.cssNum;if(t<=0)return 0;if(!$.layout.browser.boxModel)return t;var i=t-n(e,"Top")-n(e,"Bottom")-r(e,"paddingTop")-r(e,"paddingBottom");return i>0?i:0},cssNum:function(e,t){e.jquery||(e=$(e));var n=$.layout.showInvisibly(e),r=parseInt($.curCSS(e[0],t,!0),10)||0;e.css(n);return r},borderWidth:function(e,t){e.jquery&&(e=e[0]);var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return $.curCSS(e,n+"Style",true)=="none"?0:parseInt($.curCSS(e,n+"Width",!0),10)||0}};$.fn.layout=function(opts){function keyDown(e){if(!e)return!0;var t=e.keyCode;if(t<33)return!0;var n={38:"north",40:"south",37:"west",39:"east"},r=e.altKey,i=e.shiftKey,s=e.ctrlKey,o=s&&t>=37&&t<=40,u,a,f,l;o&&options[n[t]].enableCursorHotkey?l=n[t]:(s||i)&&$.each(_c.borderPanes.split(","),function(e,n){u=options[n];a=u.customHotkey;f=u.customHotkeyModifier;if(i&&f=="SHIFT"||s&&f=="CTRL"||s&&i)if(a&&t==(isNaN(a)||a<=9?a.toUpperCase().charCodeAt(0):a)){l=n;return!1}});if(!l||!$Ps[l]||!options[l].closable||state[l].isHidden)return!0;toggle(l);e.stopPropagation();e.returnValue=!1;return!1}function allowOverflow(e){this&&this.tagName&&(e=this);var t;isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){if($(this).data("layoutRole")){t=$(this);return!1}});if(!t||!t.length)return;var n=t.data("layoutEdge"),r=state[n];r.cssSaved&&resetOverflow(n);if(r.isSliding||r.isResizing||r.isClosed){r.cssSaved=!1;return}var i={zIndex:_c.zIndex.pane_normal+2},s={},o=t.css("overflow"),u=t.css("overflowX"),a=t.css("overflowY");if(o!="visible"){s.overflow=o;i.overflow="visible"}if(u&&!u.match(/visible|auto/)){s.overflowX=u;i.overflowX="visible"}if(a&&!a.match(/visible|auto/)){s.overflowY=u;i.overflowY="visible"}r.cssSaved=s;t.css(i);$.each(_c.allPanes.split(","),function(e,t){t!=n&&resetOverflow(t)})}function resetOverflow(e){this&&this.tagName&&(e=this);var t;isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){if($(this).data("layoutRole")){t=$(this);return!1}});if(!t||!t.length)return;var n=t.data("layoutEdge"),r=state[n],i=r.cssSaved||{};!r.isSliding&&!r.isResizing&&t.css("zIndex",_c.zIndex.pane_normal);t.css(i);r.cssSaved=!1}function getBtn(e,t,n){var r=$(e);if(!r.length)alert(lang.errButton+lang.selector+": "+e);else{if(_c.borderPanes.indexOf(t)!=-1){var i=options[t].buttonClass+"-"+n;r.addClass(i+" "+i+"-"+t).data("layoutName",options.name);return r}alert(lang.errButton+lang.Pane.toLowerCase()+": "+t)}return null}function bindButton(e,t,n){switch(t.toLowerCase()){case"toggle":addToggleBtn(e,n);break;case"open":addOpenBtn(e,n);break;case"close":addCloseBtn(e,n);break;case"pin":addPinBtn(e,n);break;case"toggle-slide":addToggleBtn(e,n,!0);break;case"open-slide":addOpenBtn(e,n,!0)}}function addToggleBtn(e,t,n){var r=getBtn(e,t,"toggle");r&&r.click(function(e){toggle(t,!!n);e.stopPropagation()})}function addOpenBtn(e,t,n){var r=getBtn(e,t,"open");r&&r.attr("title",lang.Open).click(function(e){open(t,!!n);e.stopPropagation()})}function addCloseBtn(e,t){var n=getBtn(e,t,"close");n&&n.attr("title",lang.Close).click(function(e){close(t);e.stopPropagation()})}function addPinBtn(e,t){var n=getBtn(e,t,"pin");if(n){var r=state[t];n.click(function(e){setPinState($(this),t,r.isSliding||r.isClosed);r.isSliding||r.isClosed?open(t):close(t);e.stopPropagation()});setPinState(n,t,!r.isClosed&&!r.isSliding);_c[t].pins.push(e)}}function syncPinBtns(e,t){$.each(_c[e].pins,function(n,r){setPinState($(r),e,t)})}function setPinState(e,t,n){var r=e.attr("pin");if(r&&n==(r=="down"))return;var i=options[t].buttonClass+"-pin",s=i+"-"+t,o=i+"-up "+s+"-up",u=i+"-down "+s+"-down";e.attr("pin",n?"down":"up").attr("title",n?lang.Unpin:lang.Pin).removeClass(n?o:u).addClass(n?u:o)}function isCookiesEnabled(){return navigator.cookieEnabled!=0}function getCookie(e){var t=$.extend({},options.cookie,e||{}),n=t.name||options.name||"Layout",r=document.cookie,i=r?r.split(";"):[],s;for(var o=0,u=i.length;o<u;o++){s=$.trim(i[o]).split("=");if(s[0]==n)return decodeJSON(decodeURIComponent(s[1]))}return""}function saveCookie(e,t){var n=$.extend({},options.cookie,t||{}),r=n.name||options.name||"Layout",i="",s="",o=!1;if(n.expires.toUTCString)s=n.expires;else if(typeof n.expires=="number"){s=new Date;if(n.expires>0)s.setDate(s.getDate()+n.expires);else{s.setYear(1970);o=!0}}s&&(i+=";expires="+s.toUTCString());n.path&&(i+=";path="+n.path);n.domain&&(i+=";domain="+n.domain);n.secure&&(i+=";secure");if(o){state.cookie={};document.cookie=r+"="+i}else{state.cookie=getState(e||n.keys);document.cookie=r+"="+encodeURIComponent(encodeJSON(state.cookie))+i}return $.extend({},state.cookie)}function deleteCookie(){saveCookie("",{expires:-1})}function loadCookie(e){var t=getCookie(e);if(t){state.cookie=$.extend({},t);loadState(t)}return t}function loadState(e){$.extend(!0,options,e)}function getState(e){var t={},n={isClosed:"initClosed",isHidden:"initHidden"},r,i,s,o;e||(e=options.cookie.keys);$.isArray(e)&&(e=e.join(","));e=e.replace(/__/g,".").split(",");for(var u=0,a=e.length;u<a;u++){r=e[u].split(".");i=r[0];s=r[1];if(_c.allPanes.indexOf(i)<0)continue;o=state[i][s];if(o==undefined)continue;s=="isClosed"&&state[i].isSliding&&(o=!0);(t[i]||(t[i]={}))[n[s]?n[s]:s]=o}return t}function encodeJSON(e){function t(e){var n=[],r=0,i,s,o;for(i in e){s=e[i];o=typeof s;o=="string"?s='"'+s+'"':o=="object"&&(s=t(s));n[r++]='"'+i+'":'+s}return"{"+n.join(",")+"}"}return t(e)}function decodeJSON(e){try{return window.eval("("+e+")")||{}}catch(t){return{}}}var lang={Pane:"Pane",Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",selector:"selector",msgNoRoom:"Not enough room to show this pane.",errContainerMissing:"UI Layout Initialization Error\n\nThe specified layout-container does not exist.",errCenterPaneMissing:"UI Layout Initialization Error\n\nThe center-pane element does not exist.\n\nThe center-pane is a required element.",errContainerHeight:"UI Layout Initialization Warning\n\nThe layout-container \"CONTAINER\" has no height.\n\nTherefore the layout is 0-height and hence 'invisible'!",errButton:"Error Adding Button \n\nInvalid "},options={name:"",scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,onresizeall_start:null,onresizeall_end:null,onload:null,onunload:null,autoBindCustomButtons:!1,zIndex:null,defaults:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:lang.Close,togglerTip_closed:lang.Open,togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskIframesOnResize:!0,resizeNestedLayout:!0,resizeWhileDragging:!1,resizeContentWhileDragging:!1,noRoomToOpenTip:lang.msgNoRoom,resizerTip:lang.Resize,sliderTip:lang.Slide,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",hideTogglerOnSlide:!1,preventQuickSlideClose:!!$.browser.webkit||!!$.browser.safari,showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,triggerEventsOnLoad:!1,triggerEventsWhileDragging:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0},useStateCookie:!1,cookie:{name:"",autoSave:!0,autoLoad:!0,domain:"",path:"",expires:"",secure:!1,keys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden"}},effects={slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}}},state={id:"layout"+(new Date).getTime(),initialized:!1,container:{},north:{},south:{},east:{},west:{},center:{},cookie:{}},_c={allPanes:"north,south,west,east,center",borderPanes:"north,south,west,east",altSide:{north:"south",south:"north",east:"west",west:"east"},hidden:{visibility:"hidden"},visible:{visibility:"visible"},zIndex:{pane_normal:1,resizer_normal:2,iframe_mask:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"Top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"},pins:[]},south:{side:"Bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"},pins:[]},east:{side:"Right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"},pins:[]},west:{side:"Left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"},pins:[]},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},timer={data:{},set:function(e,t,n){timer.clear(e);timer.data[e]=setTimeout(t,n)},clear:function(e){var t=timer.data;if(t[e]){clearTimeout(t[e]);delete t[e]}}},isStr=function(e){try{return typeof e=="string"||typeof e=="object"&&e.constructor.toString().match(/string/i)!==null}catch(t){return!1}},str=function(e){return isStr(e)?$.trim(e):e==undefined||e==null?"":e},min=function(e,t){return Math.min(e,t)},max=function(e,t){return Math.max(e,t)},_transformData=function(e){var t,n={cookie:{},defaults:{fxSettings:{}},north:{fxSettings:{}},south:{fxSettings:{}},east:{fxSettings:{}},west:{fxSettings:{}},center:{fxSettings:{}}};e=e||{};e.effects||e.cookie||e.defaults||e.north||e.south||e.west||e.east||e.center?n=$.extend(!0,n,e):$.each(e,function(e,r){t=e.split("__");if(!t[1]||n[t[0]])n[t[1]?t[0]:"defaults"][t[1]?t[1]:t[0]]=r});return n},_queue=function(e,t,n){function i(s){var o=_c[s];if(!o.doCallback){o.doCallback=!0;o.callback=e+","+t+","+(n?1:0)}else{r.push(s);var u=o.callback.split(",")[1];u!=t&&!$.inArray(u,r)>=0&&i(u)}}var r=[];$.each(_c.borderPanes.split(","),function(e,t){if(_c[t].isMoving){i(t);return!1}})},_dequeue=function(e){var t=_c[e];_c.isLayoutBusy=!1;delete t.isMoving;if(!t.doCallback||!t.callback)return;t.doCallback=!1;var n=t.callback.split(","),r=n[2]>0?!0:!1;n[0]=="open"?open(n[1],r):n[0]=="close"&&close(n[1],r);t.doCallback||(t.callback=null)},_execCallback=function(pane,v_fn){if(!v_fn)return;var fn;try{if(typeof v_fn=="function")fn=v_fn;else{if(!isStr(v_fn))return;if(v_fn.match(/,/)){var args=v_fn.split(",");fn=eval(args[0]);if(typeof fn=="function"&&args.length>1)return fn(args[1])}else fn=eval(v_fn)}if(typeof fn=="function")return pane&&$Ps[pane]?fn(pane,$Ps[pane],$.extend({},state[pane]),options[pane],options.name):fn(Instance,$.extend({},state),options,options.name)}catch(ex){}},_showInvisibly=function(e,t){if(!e)return{};e.jquery||(e=$(e));var n={display:e.css("display"),visibility:e.css("visibility")};if(t||n.display=="none"){e.css({display:"block",visibility:"hidden"});return n}return{}},_fixIframe=function(e){if(state.browser.mozilla)return;var t=$Ps[e];state[e].tagName=="IFRAME"?t.css(_c.hidden).css(_c.visible):t.find("IFRAME").css(_c.hidden).css(_c.visible)},_cssNum=function(e,t){e.jquery||(e=$(e));var n=_showInvisibly(e),r=parseInt($.curCSS(e[0],t,!0),10)||0;e.css(n);return r},_borderWidth=function(e,t){e.jquery&&(e=e[0]);var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return $.curCSS(e,n+"Style",true)=="none"?0:parseInt($.curCSS(e,n+"Width",!0),10)||0},cssW=function(e,t){var n=isStr(e),r=n?$Ps[e]:$(e);isNaN(t)&&(t=n?getPaneSize(e):r.outerWidth());if(t<=0)return 0;if(!state.browser.boxModel)return t;var i=t-_borderWidth(r,"Left")-_borderWidth(r,"Right")-_cssNum(r,"paddingLeft")-_cssNum(r,"paddingRight");return i>0?i:0},cssH=function(e,t){var n=isStr(e),r=n?$Ps[e]:$(e);isNaN(t)&&(t=n?getPaneSize(e):r.outerHeight());if(t<=0)return 0;if(!state.browser.boxModel)return t;var i=t-_borderWidth(r,"Top")-_borderWidth(r,"Bottom")-_cssNum(r,"paddingTop")-_cssNum(r,"paddingBottom");return i>0?i:0},cssSize=function(e,t){return _c[e].dir=="horz"?cssH(e,t):cssW(e,t)},cssMinDims=function(e){var t=_c[e].dir,n={minWidth:1001-cssW(e,1e3),minHeight:1001-cssH(e,1e3)};t=="horz"&&(n.minSize=n.minHeight);t=="vert"&&(n.minSize=n.minWidth);return n},setOuterWidth=function(e,t,n){var r=e,i;isStr(e)?r=$Ps[e]:e.jquery||(r=$(e));i=cssW(r,t);r.css({width:i});if(i>0){if(n&&r.data("autoHidden")&&r.innerHeight()>0){r.show().data("autoHidden",!1);state.browser.mozilla||r.css(_c.hidden).css(_c.visible)}}else n&&!r.data("autoHidden")&&r.hide().data("autoHidden",!0)},setOuterHeight=function(e,t,n){var r=e,i;isStr(e)?r=$Ps[e]:e.jquery||(r=$(e));i=cssH(r,t);r.css({height:i,visibility:"visible"});if(i>0&&r.innerWidth()>0){if(n&&r.data("autoHidden")){r.show().data("autoHidden",!1);state.browser.mozilla||r.css(_c.hidden).css(_c.visible)}}else n&&!r.data("autoHidden")&&r.hide().data("autoHidden",!0)},setOuterSize=function(e,t,n){_c[pane].dir=="horz"?setOuterHeight(e,t,n):setOuterWidth(e,t,n)},_parseSize=function(e,t,n){n||(n=_c[e].dir);isStr(t)&&t.match(/%/)&&(t=parseInt(t,10)/100);if(t===0)return 0;if(t>=1)return parseInt(t,10);if(t>0){var r=options,i;n=="horz"?i=sC.innerHeight-($Ps.north?r.north.spacing_open:0)-($Ps.south?r.south.spacing_open:0):n=="vert"&&(i=sC.innerWidth-($Ps.west?r.west.spacing_open:0)-($Ps.east?r.east.spacing_open:0));return Math.floor(i*t)}if(e=="center")return 0;var s=$Ps[e],o=n=="horz"?"height":"width",u=_showInvisibly(s),a=s.css(o);s.css(o,"auto");t=o=="height"?s.outerHeight():s.outerWidth();s.css(o,a).css(u);return t},getPaneSize=function(e,t){var n=$Ps[e],r=options[e],i=state[e],s=t?r.spacing_open:0,o=t?r.spacing_closed:0;return!n||i.isHidden?0:i.isClosed||i.isSliding&&t?o:_c[e].dir=="horz"?n.outerHeight()+s:n.outerWidth()+s},setSizeLimits=function(e,t){var n=options[e],r=state[e],i=_c[e],s=i.dir,o=i.side.toLowerCase(),u=i.sizeType.toLowerCase(),a=t!=undefined?t:r.isSliding,f=$Ps[e],l=n.spacing_open,c=_c.altSide[e],h=state[c],p=$Ps[c],d=!p||h.isVisible===!1||h.isSliding?0:s=="horz"?p.outerHeight():p.outerWidth(),v=(!p||h.isHidden?0:options[c][h.isClosed!==!1?"spacing_closed":"spacing_open"])||0,m=s=="horz"?sC.innerHeight:sC.innerWidth,g=cssMinDims("center"),y=s=="horz"?max(options.center.minHeight,g.minHeight):max(options.center.minWidth,g.minWidth),b=m-l-(a?0:_parseSize("center",y,s)+d+v),w=r.minSize=max(_parseSize(e,n.minSize),cssMinDims(e).minSize),E=r.maxSize=min(n.maxSize?_parseSize(e,n.maxSize):1e5,b),S=r.resizerPosition={},x=sC.insetTop,T=sC.insetLeft,N=sC.innerWidth,C=sC.innerHeight,k=n.spacing_open;switch(e){case"north":S.min=x+w;S.max=x+E;break;case"west":S.min=T+w;S.max=T+E;break;case"south":S.min=x+C-E-k;S.max=x+C-w-k;break;case"east":S.min=T+N-E-k;S.max=T+N-w-k}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};e.width=sC.innerWidth-e.left-e.right;e.height=sC.innerHeight-e.bottom-e.top;e.top+=sC.insetTop;e.bottom+=sC.insetBottom;e.left+=sC.insetLeft;e.right+=sC.insetRight;return e},getElemDims=function(e){var t={},n=t.css={},r={},i,s,o=e.offset();t.offsetLeft=o.left;t.offsetTop=o.top;$.each("Left,Right,Top,Bottom".split(","),function(o,u){i=n["border"+u]=_borderWidth(e,u);s=n["padding"+u]=_cssNum(e,"padding"+u);r[u]=i+s;t["inset"+u]=s});t.offsetWidth=e.innerWidth();t.offsetHeight=e.innerHeight();t.outerWidth=e.outerWidth();t.outerHeight=e.outerHeight();t.innerWidth=t.outerWidth-r.Left-r.Right;t.innerHeight=t.outerHeight-r.Top-r.Bottom;n.width=e.width();n.height=e.height();return t},getElemCSS=function(e,t){var n={},r=e[0].style,i=t.split(","),s="Top,Bottom,Left,Right".split(","),o="Color,Style,Width".split(","),u,a,f,l,c,h;for(l=0;l<i.length;l++){u=i[l];if(u.match(/(border|padding|margin)$/))for(c=0;c<4;c++){a=s[c];if(u=="border")for(h=0;h<3;h++){f=o[h];n[u+a+f]=r[u+a+f]}else n[u+a]=r[u+a]}else n[u]=r[u]}return n},getHoverClasses=function(e,t){var n=$(e),r=n.data("layoutRole"),i=n.data("layoutEdge"),s=options[i],o=s[r+"Class"],u="-"+i,a="-open",f="-closed",l="-sliding",c="-hover ",h=n.hasClass(o+f)?f:a,p=h==f?a:f,d=o+c+(o+u+c)+(o+h+c)+(o+u+h+c);t&&(d+=o+p+c+(o+u+p+c));r=="resizer"&&n.hasClass(o+l)&&(d+=o+l+c+(o+u+l+c));return $.trim(d)},addHover=function(e,t){var n=t||this;$(n).addClass(getHoverClasses(n))},removeHover=function(e,t){var n=t||this;$(n).removeClass(getHoverClasses(n,!0))},onResizerEnter=function(e){$("body").disableSelection();addHover(e,this)},onResizerLeave=function(e,t){var n=t||this,r=$(n).data("layoutEdge"),i=r+"ResizerLeave";timer.clear(i);if(!t){removeHover(e,this);timer.set(i,function(){onResizerLeave(e,n)},200)}else state[r].isResizing||$("body").enableSelection()},_create=function(){initOptions();var e=options;if(!1===_execCallback(null,e.onload))return!1;if(!getPane("center").length){alert(lang.errCenterPaneMissing);return null}e.useStateCookie&&e.cookie.autoLoad&&loadCookie();state.browser={mozilla:$.browser.mozilla,webkit:$.browser.webkit||$.browser.safari,msie:$.browser.msie,isIE6:$.browser.msie&&$.browser.version==6,boxModel:$.support.boxModel};initContainer();initPanes();sizeContent();if(e.scrollToBookmarkOnLoad){var t=self.location;t.hash&&t.replace(t.hash)}e.autoBindCustomButtons&&initButtons();initHotkeys();e.resizeWithWindow&&!$Container.data("layoutRole")&&$(window).bind("resize."+sID,windowResize);$(window).bind("unload."+sID,unload);state.initialized=!0},windowResize=function(){var e=Number(options.resizeWithWindowDelay)||100;if(e>0){timer.clear("winResize");timer.set("winResize",function(){timer.clear("winResize");timer.clear("winResizeRepeater");resizeAll()},e);timer.data.winResizeRepeater||setWindowResizeRepeater()}},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);e>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater();resizeAll()},e)},unload=function(){var e=options;state.cookie=getState();e.useStateCookie&&e.cookie.autoSave&&saveCookie();_execCallback(null,e.onunload)},initContainer=function(){var e=$Container,t=sC.tagName=e.attr("tagName"),n=t=="BODY",r="position,margin,padding,border",i={};sC.selector=e.selector.split(".slice")[0];sC.ref=t+"/"+sC.selector;e.data("layoutContainer",sID).data("layoutName",options.name);if(!e.data("layoutCSS")){if(n){i=$.extend(getElemCSS(e,r),{height:e.css("height"),overflow:e.css("overflow"),overflowX:e.css("overflowX"),overflowY:e.css("overflowY")});var s=$("html");s.data("layoutCSS",{height:"auto",overflow:s.css("overflow"),overflowX:s.css("overflowX"),overflowY:s.css("overflowY")})}else i=getElemCSS(e,r+",top,bottom,left,right,width,height,overflow,overflowX,overflowY");e.data("layoutCSS",i)}try{if(n){$("html").css({height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"});$("body").css({position:"relative",height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden",margin:0,padding:0,border:"none"})}else{i={overflow:"hidden"};var o=e.css("position"),u=e.css("height");!e.data("layoutRole")&&(!o||!o.match(/fixed|absolute|relative/))&&(i.position="relative");e.css(i);e.is(":visible")&&e.innerHeight()<2&&alert(lang.errContainerHeight.replace(/CONTAINER/,sC.ref))}}catch(a){}$.extend(state.container,getElemDims(e))},initHotkeys=function(){$.each(_c.borderPanes.split(","),function(e,t){var n=options[t];if(n.enableCursorHotkey||n.customHotkey){$(document).bind("keydown."+sID,keyDown);return!1}})},initOptions=function(){function u(t){for(var n in e)if(t[n]!=undefined){t[e[n]]=t[n];delete t[n]}}opts=_transformData(opts);var e={applyDefaultStyles:"applyDemoStyles"};u(opts.defaults);$.each(_c.allPanes.split(","),function(e,t){u(opts[t])});if(opts.effects){$.extend(effects,opts.effects);delete opts.effects}$.extend(options.cookie,opts.cookie);var t="name,zIndex,scrollToBookmarkOnLoad,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onunload,autoBindCustomButtons,useStateCookie";$.each(t.split(","),function(e,t){if(opts[t]!==undefined)options[t]=opts[t];else if(opts.defaults[t]!==undefined){options[t]=opts.defaults[t];delete opts.defaults[t]}});$.each("paneSelector,resizerCursor,customHotkey".split(","),function(e,t){delete opts.defaults[t]});$.extend(!0,options.defaults,opts.defaults);_c.center=$.extend(!0,{},_c.panes,_c.center);var n=options.zIndex;if(n===0||n>0){_c.zIndex.pane_normal=n;_c.zIndex.resizer_normal=n+1;_c.zIndex.iframe_mask=n+1}$.extend(options.center,opts.center);var r=$.extend(!0,{},options.defaults,opts.defaults,options.center),i="paneClass,contentSelector,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,onresize,onresize_start,onresize_end,resizeNestedLayout,resizeContentWhileDragging,onsizecontent,onsizecontent_start,onsizecontent_end".split(",");$.each(i,function(e,t){options.center[t]=r[t]});var s,o=options.defaults;$.each(_c.borderPanes.split(","),function(e,t){_c[t]=$.extend(!0,{},_c.panes,_c[t]);s=options[t]=$.extend(!0,{},options.defaults,options[t],opts.defaults,opts[t]);s.paneClass||(s.paneClass="ui-layout-pane");s.resizerClass||(s.resizerClass="ui-layout-resizer");s.togglerClass||(s.togglerClass="ui-layout-toggler");$.each(["_open","_close",""],function(e,n){var r="fxName"+n,i="fxSpeed"+n,u="fxSettings"+n;s[r]=opts[t][r]||opts[t].fxName||opts.defaults[r]||opts.defaults.fxName||s[r]||s.fxName||o[r]||o.fxName||"none";var a=s[r];if(a=="none"||!$.effects||!$.effects[a]||!effects[a]&&!s[u]&&!s.fxSettings)a=s[r]="none";var f=effects[a]||{},l=f.all||{},c=f[t]||{};s[u]=$.extend({},l,c,o.fxSettings||{},o[u]||{},s.fxSettings,s[u],opts.defaults.fxSettings,opts.defaults[u]||{},opts[t].fxSettings,opts[t][u]||{});s[i]=opts[t][i]||opts[t].fxSpeed||opts.defaults[i]||opts.defaults.fxSpeed||s[i]||s[u].duration||s.fxSpeed||s.fxSettings.duration||o.fxSpeed||o.fxSettings.duration||c.duration||l.duration||"normal"})})},getPane=function(e){var t=options[e].paneSelector;if(t.substr(0,1)==="#")return $Container.find(t).eq(0);var n=$Container.children(t).eq(0);return n.length?n:$Container.children("form:first").children(t).eq(0)},initPanes=function(){$.each(_c.allPanes.split(","),function(e,t){var n=options[t],r=state[t],i=_c[t],s=r.fx,o=i.dir,u=n.spacing_open||0,a=t=="center",f={},l,c,h,p,d;$Cs[t]=!1;l=$Ps[t]=getPane(t);if(!l.length){$Ps[t]=!1;return!0}if(!l.data("layoutCSS")){var v="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";l.data("layoutCSS",getElemCSS(l,v))}l.data("layoutName",options.name).data("layoutRole","pane").data("layoutEdge",t).css(i.cssReq).css("zIndex",_c.zIndex.pane_normal).css(n.applyDemoStyles?i.cssDemo:{}).addClass(n.paneClass+" "+n.paneClass+"-"+t).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);initContent(t,!1);if(!a){h=r.size=_parseSize(t,n.size);p=_parseSize(t,n.minSize)||1;d=_parseSize(t,n.maxSize)||1e5;h>0&&(h=max(min(h,d),p))}r.tagName=l.attr("tagName");r.edge=t;r.noRoom=!1;r.isVisible=!0;if(!a){r.isClosed=!1;r.isSliding=!1;r.isResizing=!1;r.isHidden=!1}switch(t){case"north":f.top=sC.insetTop;f.left=sC.insetLeft;f.right=sC.insetRight;break;case"south":f.bottom=sC.insetBottom;f.left=sC.insetLeft;f.right=sC.insetRight;break;case"west":f.left=sC.insetLeft;break;case"east":f.right=sC.insetRight;break;case"center":}o=="horz"?f.height=max(1,cssH(t,h)):o=="vert"&&(f.width=max(1,cssW(t,h)));l.css(f);o!="horz"&&sizeMidPanes(t,!0);l.css({visibility:"visible",display:"block"});n.initClosed&&n.closable?close(t,!0,!0):(n.initHidden||n.initClosed)&&hide(t);n.showOverflowOnHover&&l.hover(allowOverflow,resetOverflow)});initHandles();$.each(_c.borderPanes.split(","),function(e,t){if($Ps[t]&&state[t].isVisible){setSizeLimits(t);makePaneFit(t)}});sizeMidPanes("center");$.each(_c.allPanes.split(","),function(e,t){var n=options[t];$Ps[t]&&n.triggerEventsOnLoad&&state[t].isVisible&&_execCallback(t,n.onresize_end||n.onresize)});$Container.innerHeight()<2&&alert(lang.errContainerHeight.replace(/CONTAINER/,sC.ref))},initHandles=function(e){if(!e||e=="all")e=_c.borderPanes;$.each(e.split(","),function(e,t){var n=$Ps[t];$Rs[t]=!1;$Ts[t]=!1;if(!n)return;var r=options[t],i=state[t],s=_c[t],o=r.resizerClass,u=r.togglerClass,a=s.side.toLowerCase(),f=i.isVisible?r.spacing_open:r.spacing_closed,l="-"+t,c=i.isVisible?"-open":"-closed",h=$Rs[t]=$("<div></div>"),p=r.closable?$Ts[t]=$("<div></div>"):!1;!i.isVisible&&r.slidable&&h.attr("title",r.sliderTip).css("cursor",r.sliderCursor);h.attr("id",r.paneSelector.substr(0,1)=="#"?r.paneSelector.substr(1)+"-resizer":"").data("layoutRole","resizer").data("layoutEdge",t).css(_c.resizers.cssReq).css("zIndex",_c.zIndex.resizer_normal).css(r.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(o+" "+o+l).appendTo($Container);if(p){p.attr("id",r.paneSelector.substr(0,1)=="#"?r.paneSelector.substr(1)+"-toggler":"").data("layoutRole","toggler").data("layoutEdge",t).css(_c.togglers.cssReq).css(r.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(u+" "+u+l).appendTo(h).click(function(e){toggle(t);e.stopPropagation()}).hover(addHover,removeHover);r.togglerContent_open&&$("<span>"+r.togglerContent_open+"</span>").data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(p).hover(addHover,removeHover);r.togglerContent_closed&&$("<span>"+r.togglerContent_closed+"</span>").data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-closed").css("display","none").appendTo(p).hover(addHover,removeHover)}initResizable(t);if(i.isVisible)setAsOpen(t);else{setAsClosed(t);bindStartSlidingEvent(t,!0)}});sizeHandles("all")},initContent=function(e,t){var n=options[e],r=n.contentSelector,i=$Ps[e],s;r&&(s=$Cs[e]=n.findNestedContent?i.find(r).eq(0):i.children(r).eq(0));if(s&&s.length){s.css(_c.content.cssReq);if(n.applyDemoStyles){s.css(_c.content.cssDemo);i.css(_c.content.cssDemoPane)}state[e].content={};t!==!1&&sizeContent(e)}else $Cs[e]=!1},initButtons=function(){var e="ui-layout-button-",t;$.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(n,r){$.each(_c.borderPanes.split(","),function(n,i){$("."+e+r+"-"+i).each(function(){t=$(this).data("layoutName")||$(this).attr("layoutName");(t==undefined||t==options.name)&&bindButton(this,r,i)})})})},initResizable=function(e){var t=typeof $.fn.draggable=="function",n,r;if(!e||e=="all")e=_c.borderPanes;$.each(e.split(","),function(e,r){var i=options[r],s=state[r],o=_c[r],u=o.dir=="horz"?"top":"left",a,f;if(!t||!$Ps[r]||!i.resizable){i.resizable=!1;return!0}var l=$Ps[r],c=$Rs[r],h=i.resizerClass,p=h+"-drag",d=h+"-"+r+"-drag",v=h+"-dragging",m=h+"-"+r+"-dragging",g=h+"-dragging-limit",y=!1;s.isClosed||c.attr("title",i.resizerTip).css("cursor",i.resizerCursor);c.hover(onResizerEnter,onResizerLeave);c.draggable({containment:$Container[0],axis:o.dir=="horz"?"y":"x",delay:0,distance:1,helper:"clone",opacity:i.resizerDragOpacity,addClasses:!1,zIndex:_c.zIndex.resizer_drag,start:function(e,t){i=options[r];s=state[r];f=i.resizeWhileDragging;if(!1===_execCallback(r,i.ondrag_start))return!1;_c.isLayoutBusy=!0;s.isResizing=!0;timer.clear(r+"_closeSlider");setSizeLimits(r);a=s.resizerPosition;c.addClass(p+" "+d);y=!1;n=$(i.maskIframesOnResize===!0?"iframe":i.maskIframesOnResize).filter(":visible");var o,u=0;n.each(function(){o="ui-layout-mask-"+ ++u;$(this).data("layoutMaskID",o);$('<div id="'+o+'" class="ui-layout-mask ui-layout-mask-'+r+'"/>').css({background:"#fff",opacity:"0.001",zIndex:_c.zIndex.iframe_mask,position:"absolute",width:this.offsetWidth+"px",height:this.offsetHeight+"px"}).css($(this).position()).appendTo(this.parentNode)});$("body").disableSelection()},drag:function(e,t){if(!y){t.helper.addClass(v+" "+m).children().css("visibility","hidden");y=!0;s.isSliding&&$Ps[r].css("zIndex",_c.zIndex.pane_sliding)}var n=0;if(t.position[u]<a.min){t.position[u]=a.min;n=-1}else if(t.position[u]>a.max){t.position[u]=a.max;n=1}if(n){t.helper.addClass(g);window.defaultStatus="Panel has reached its "+(n>0&&r.match(/north|west/)||n<0&&r.match(/south|east/)?"maximum":"minimum")+" size"}else{t.helper.removeClass(g);window.defaultStatus=""}f&&b(e,t,r)},stop:function(e,t){$("body").enableSelection();window.defaultStatus="";c.removeClass(p+" "+d+" "+g);s.isResizing=!1;_c.isLayoutBusy=!1;b(e,t,r,!0)}});var b=function(e,t,r,s){var o=t.position,u=_c[r],a,f,l=0;switch(r){case"north":a=o.top;break;case"west":a=o.left;break;case"south":a=sC.offsetHeight-o.top-i.spacing_open;break;case"east":a=sC.offsetWidth-o.left-i.spacing_open}if(s){$("div.ui-layout-mask").each(function(){this.parentNode.removeChild(this)});if(!1===_execCallback(r,i.ondrag_end||i.ondrag))return!1}else n.each(function(){$("#"+$(this).data("layoutMaskID")).css($(this).position()).css
({width:this.offsetWidth+"px",height:this.offsetHeight+"px"})});f=a-sC["inset"+u.side];manualSizePane(r,f)}})},destroy=function(){$(window).unbind("."+sID);$(document).unbind("."+sID);window[sID]=null;var e=sC.tagName=="BODY",t="-open",n="-sliding",r="-closed",i,s,o,u;$.each(_c.allPanes.split(","),function(e,a){i=$Ps[a];if(!i)return!0;if(a!="center"){$Ts[a]&&$Ts[a].remove();$Rs[a].remove()}s=options[a].paneClass;o=s+"-"+a;u=[s,s+t,s+r,s+n,o,o+t,o+r,o+n];$.merge(u,getHoverClasses(i,!0));i.removeClass(u.join(" ")).removeData("layoutRole").removeData("layoutEdge").unbind("."+sID).unbind("mouseenter").unbind("mouseleave");i.data("layoutContainer")||i.css(i.data("layoutCSS"))});$Container.removeData("layoutContainer");$Container.data("layoutEdge")||$Container.css($Container.data("layoutCSS"));e&&$("html").css($("html").data("layoutCSS"));unload();var a=options.name;a&&window[a]&&(window[a]=null)},hide=function(e,t){var n=options[e],r=state[e],i=$Ps[e],s=$Rs[e];if(!i||r.isHidden)return;if(state.initialized&&!1===_execCallback(e,n.onhide_start))return;r.isSliding=!1;s&&s.hide();if(!state.initialized||r.isClosed){r.isClosed=!0;r.isHidden=!0;r.isVisible=!1;i.hide();sizeMidPanes(_c[e].dir=="horz"?"all":"center");(state.initialized||n.triggerEventsOnLoad)&&_execCallback(e,n.onhide_end||n.onhide)}else{r.isHiding=!0;close(e,!1,t)}},show=function(e,t,n,r){var i=options[e],s=state[e],o=$Ps[e],u=$Rs[e];if(!o||!s.isHidden)return;if(!1===_execCallback(e,i.onshow_start))return;s.isSliding=!1;s.isShowing=!0;t===!1?close(e,!0):open(e,!1,n,r)},toggle=function(e,t){if(!isStr(e)){e.stopImmediatePropagation();e=$(this).data("layoutEdge")}var n=state[str(e)];n.isHidden?show(e):n.isClosed?open(e,!!t):close(e)},_closePane=function(e,t){var n=$Ps[e],r=state[e];n.hide();r.isClosed=!0;r.isVisible=!1},close=function(e,t,n,r){function p(){if(a.isClosed){bindStartSlidingEvent(e,!0);var t=_c.altSide[e];if(state[t].noRoom){setSizeLimits(t);makePaneFit(t)}if(!r&&(state.initialized||u.triggerEventsOnLoad)){l||_execCallback(e,u.onclose_end||u.onclose);l&&_execCallback(e,u.onshow_end||u.onshow);c&&_execCallback(e,u.onhide_end||u.onhide)}}_dequeue(e)}if(!state.initialized){_closePane(e);return}var i=$Ps[e],s=$Rs[e],o=$Ts[e],u=options[e],a=state[e],f=!n&&!a.isClosed&&u.fxName_close!="none",l=a.isShowing,c=a.isHiding,h=a.isSliding;delete a.isShowing;delete a.isHiding;if(!i||!u.closable)return;if(!t&&a.isClosed&&!l)return;if(_c.isLayoutBusy){_queue("close",e,t);return}if(!l&&!1===_execCallback(e,u.onclose_start))return;_c[e].isMoving=!0;_c.isLayoutBusy=!0;a.isClosed=!0;a.isVisible=!1;c?a.isHidden=!0:l&&(a.isHidden=!1);a.isSliding?bindStopSlidingEvents(e,!1):sizeMidPanes(_c[e].dir=="horz"?"all":"center",!1);setAsClosed(e);if(f){lockPaneForFX(e,!0);i.hide(u.fxName_close,u.fxSettings_close,u.fxSpeed_close,function(){lockPaneForFX(e,!1);p()})}else{i.hide();p()}},setAsClosed=function(e){var t=$Ps[e],n=$Rs[e],r=$Ts[e],i=options[e],s=state[e],o=_c[e].side.toLowerCase(),u="inset"+_c[e].side,a=i.resizerClass,f=i.togglerClass,l="-"+e,c="-open",h="-sliding",p="-closed";n.css(o,sC[u]).removeClass(a+c+" "+a+l+c).removeClass(a+h+" "+a+l+h).addClass(a+p+" "+a+l+p).unbind("dblclick."+sID);i.resizable&&typeof $.fn.draggable=="function"&&n.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title","");if(r){r.removeClass(f+c+" "+f+l+c).addClass(f+p+" "+f+l+p).attr("title",i.togglerTip_closed);r.children(".content-open").hide();r.children(".content-closed").css("display","block")}syncPinBtns(e,!1);state.initialized&&sizeHandles("all")},open=function(e,t,n,r){function c(){if(a.isVisible){_fixIframe(e);a.isSliding||sizeMidPanes(_c[e].dir=="vert"?"center":"all",!1);setAsOpen(e)}_dequeue(e)}var i=$Ps[e],s=$Rs[e],o=$Ts[e],u=options[e],a=state[e],f=!n&&a.isClosed&&u.fxName_open!="none",l=a.isShowing;delete a.isShowing;if(!i||!u.resizable&&!u.closable)return;if(a.isVisible&&!a.isSliding)return;if(a.isHidden&&!l){show(e,!0);return}if(_c.isLayoutBusy){_queue("open",e,t);return}if(!1===_execCallback(e,u.onopen_start))return;setSizeLimits(e,t);if(a.minSize>a.maxSize){syncPinBtns(e,!1);!r&&u.noRoomToOpenTip&&alert(u.noRoomToOpenTip);return}_c[e].isMoving=!0;_c.isLayoutBusy=!0;t?bindStopSlidingEvents(e,!0):a.isSliding?bindStopSlidingEvents(e,!1):u.slidable&&bindStartSlidingEvent(e,!1);a.noRoom=!1;makePaneFit(e);a.isVisible=!0;a.isClosed=!1;l&&(a.isHidden=!1);if(f){lockPaneForFX(e,!0);i.show(u.fxName_open,u.fxSettings_open,u.fxSpeed_open,function(){lockPaneForFX(e,!1);c()})}else{i.show();c()}},setAsOpen=function(e,t){var n=$Ps[e],r=$Rs[e],i=$Ts[e],s=options[e],o=state[e],u=_c[e].side.toLowerCase(),a="inset"+_c[e].side,f=s.resizerClass,l=s.togglerClass,c="-"+e,h="-open",p="-closed",d="-sliding";r.css(u,sC[a]+getPaneSize(e)).removeClass(f+p+" "+f+c+p).addClass(f+h+" "+f+c+h);o.isSliding?r.addClass(f+d+" "+f+c+d):r.removeClass(f+d+" "+f+c+d);s.resizerDblClickToggle&&r.bind("dblclick",toggle);removeHover(0,r);s.resizable&&typeof $.fn.draggable=="function"?r.draggable("enable").css("cursor",s.resizerCursor).attr("title",s.resizerTip):o.isSliding||r.css("cursor","default");if(i){i.removeClass(l+p+" "+l+c+p).addClass(l+h+" "+l+c+h).attr("title",s.togglerTip_open);removeHover(0,i);i.children(".content-closed").hide();i.children(".content-open").css("display","block")}syncPinBtns(e,!o.isSliding);$.extend(o,getElemDims(n));if(state.initialized){sizeHandles("all");sizeContent(e,!0)}if(!t&&(state.initialized||s.triggerEventsOnLoad)&&n.is(":visible")){_execCallback(e,s.onopen_end||s.onopen);o.isShowing&&_execCallback(e,s.onshow_end||s.onshow);if(state.initialized){_execCallback(e,s.onresize_end||s.onresize);resizeNestedLayout(e)}}},slideOpen=function(e){var t=typeof e,n=t=="string"?e:$(this).data("layoutEdge");t=="object"&&e.stopImmediatePropagation();state[n].isClosed?open(n,!0):bindStopSlidingEvents(n,!0)},slideClose=function(e){function o(e){i.isClosed?bindStopSlidingEvents(n,!1):close(n)}var t=isStr(e)?$Ps[e]:$(this),n=t.data("layoutEdge"),r=options[n],i=state[n],s=$Ps[n];if(i.isClosed||i.isResizing)return;if(r.slideTrigger_close=="click")o();else{if(r.preventQuickSlideClose&&_c.isLayoutBusy)return;timer.set(n+"_closeSlider",o,300)}},slideToggle=function(e){toggle(e,!0)},lockPaneForFX=function(e,t){var n=$Ps[e];if(t){n.css({zIndex:_c.zIndex.pane_animate});e=="south"?n.css({top:sC.insetTop+sC.innerHeight-n.outerHeight()}):e=="east"&&n.css({left:sC.insetLeft+sC.innerWidth-n.outerWidth()})}else{n.css({zIndex:state[e].isSliding?_c.zIndex.pane_sliding:_c.zIndex.pane_normal});e=="south"?n.css({top:"auto"}):e=="east"&&n.css({left:"auto"});var r=options[e];state.browser.msie&&r.fxOpacityFix&&r.fxName_open!="slide"&&n.css("filter")&&n.css("opacity")==1&&n[0].style.removeAttribute("filter")}},bindStartSlidingEvent=function(e,t){var n=options[e],r=$Ps[e],i=$Rs[e],s=n.slideTrigger_open;if(!i||!n.slidable)return;s.match(/mouseover/)?s=n.slideTrigger_open="mouseenter":s.match(/click|dblclick|mouseenter/)||(s=n.slideTrigger_open="click");i[t?"bind":"unbind"](s+"."+sID,slideOpen).css("cursor",t?n.sliderCursor:"default").attr("title",t?n.sliderTip:"")},bindStopSlidingEvents=function(e,t){function f(t){timer.clear(e+"_closeSlider");t.stopPropagation()}var n=options[e],r=state[e],i=_c.zIndex,s=n.slideTrigger_close,o=t?"bind":"unbind",u=$Ps[e],a=$Rs[e];r.isSliding=t;timer.clear(e+"_closeSlider");t&&bindStartSlidingEvent(e,!1);u.css("zIndex",t?i.pane_sliding:i.pane_normal);a.css("zIndex",t?i.pane_sliding:i.resizer_normal);s.match(/click|mouseleave/)||(s=n.slideTrigger_close="mouseleave");a[o](s,slideClose);if(s=="mouseleave"){u[o]("mouseleave."+sID,slideClose);a[o]("mouseenter."+sID,f);u[o]("mouseenter."+sID,f)}if(!t)timer.clear(e+"_closeSlider");else if(s=="click"&&!n.resizable){a.css("cursor",t?n.sliderCursor:"default");a.attr("title",t?n.togglerTip_open:"")}},makePaneFit=function(e,t,n,r){var i=options[e],s=state[e],o=_c[e],u=$Ps[e],a=$Rs[e],f=o.dir=="vert",l=!1;if(e=="center"||f&&s.noVerticalRoom){l=s.minHeight<=s.maxHeight&&(f||s.minWidth<=s.maxWidth);if(l&&s.noRoom){u.show();a&&a.show();s.isVisible=!0;s.noRoom=!1;f&&(s.noVerticalRoom=!1);_fixIframe(e)}else if(!l&&!s.noRoom){u.hide();a&&a.hide();s.isVisible=!1;s.noRoom=!0}}if(e!="center")if(s.minSize<=s.maxSize){l=!0;if(s.size>s.maxSize)sizePane(e,s.maxSize,n,r);else if(s.size<s.minSize)sizePane(e,s.minSize,n,r);else if(a&&u.is(":visible")){var c=o.side.toLowerCase(),h=s.size+sC["inset"+o.side];_cssNum(a,c)!=h&&a.css(c,h)}s.noRoom&&(s.wasOpen&&i.closable?i.autoReopen?open(e,!1,!0,!0):s.noRoom=!1:show(e,s.wasOpen,!0,!0))}else if(!s.noRoom){s.noRoom=!0;s.wasOpen=!s.isClosed&&!s.isSliding;i.closable?close(e,!0,!0):hide(e,!0)}},manualSizePane=function(e,t,n){var r=options[e],i=r.resizeWhileDragging&&!_c.isLayoutBusy;r.autoResize=!1;sizePane(e,t,n,i)},sizePane=function(e,t,n,r){var i=options[e],s=state[e],o=$Ps[e],u=$Rs[e],a=_c[e].side.toLowerCase(),f="inset"+_c[e].side,l=_c.isLayoutBusy&&!i.triggerEventsWhileDragging,c;setSizeLimits(e);c=s.size;t=_parseSize(e,t);t=max(t,_parseSize(e,i.minSize));t=min(t,s.maxSize);if(t<s.minSize){makePaneFit(e,!1,n);return}if(!r&&t==c)return;!n&&state.initialized&&s.isVisible&&_execCallback(e,i.onresize_start);o.css(_c[e].sizeType.toLowerCase(),max(1,cssSize(e,t)));s.size=t;$.extend(s,getElemDims(o));u&&o.is(":visible")&&u.css(a,t+sC[f]);sizeContent(e);if(!n&&!l&&state.initialized&&s.isVisible){_execCallback(e,i.onresize_end||i.onresize);resizeNestedLayout(e)}if(!n){s.isSliding||sizeMidPanes(_c[e].dir=="horz"?"all":"center",l,r);sizeHandles("all")}var h=_c.altSide[e];if(t<c&&state[h].noRoom){setSizeLimits(h);makePaneFit(h,!1,n)}},sizeMidPanes=function(e,t,n){if(!e||e=="all")e="east,west,center";$.each(e.split(","),function(e,r){if(!$Ps[r])return;var i=options[r],s=state[r],o=$Ps[r],u=$Rs[r],a=r=="center",f=!0,l={},c=calcNewCenterPaneDims();$.extend(s,getElemDims(o));if(r=="center"){if(!n&&s.isVisible&&c.width==s.outerWidth&&c.height==s.outerHeight)return!0;$.extend(s,cssMinDims(r),{maxWidth:c.width,maxHeight:c.height});l=c;l.width=cssW(r,c.width);l.height=cssH(r,c.height);f=l.width>0&&l.height>0;if(!f&&!state.initialized&&i.minWidth>0){var h=i.minWidth-s.outerWidth,p=options.east.minSize||0,d=options.west.minSize||0,v=state.east.size,m=state.west.size,g=v,y=m;if(h>0&&state.east.isVisible&&v>p){g=max(v-p,v-h);h-=v-g}if(h>0&&state.west.isVisible&&m>d){y=max(m-d,m-h);h-=m-y}if(h==0){v!=p&&sizePane("east",g,!0);m!=d&&sizePane("west",y,!0);sizeMidPanes("center",t,n);return}}}else{$.extend(s,getElemDims(o),cssMinDims(r));if(!n&&!s.noVerticalRoom&&c.height==s.outerHeight)return!0;l.top=c.top;l.bottom=c.bottom;l.height=cssH(r,c.height);s.maxHeight=max(0,l.height);f=s.maxHeight>0;f||(s.noVerticalRoom=!0)}if(f){!t&&state.initialized&&_execCallback(r,i.onresize_start);o.css(l);$.extend(s,getElemDims(o));s.noRoom&&makePaneFit(r);state.initialized&&sizeContent(r)}else!s.noRoom&&s.isVisible&&makePaneFit(r);if(r=="center"){var b=state.browser,w=b.isIE6||b.msie&&!b.boxModel;$Ps.north&&(w||state.north.tagName=="IFRAME")&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth));$Ps.south&&(w||state.south.tagName=="IFRAME")&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}if(!t&&state.initialized&&s.isVisible){_execCallback(r,i.onresize_end||i.onresize);resizeNestedLayout(r)}})},resizeAll=function(){var e=sC.innerWidth,t=sC.innerHeight;$.extend(state.container,getElemDims($Container));if(!sC.outerHeight)return;if(!1===_execCallback(null,options.onresizeall_start))return!1;var n=sC.innerHeight<t,r=sC.innerWidth<e,i,s,o,u;$.each(["south","north","east","west"],function(e,t){if(!$Ps[t])return;o=state[t];s=options[t];u=_c[t].dir;if(s.autoResize&&o.size!=s.size)sizePane(t,s.size,!0,!0);else{setSizeLimits(t);makePaneFit(t,!1,!0,!0)}});sizeMidPanes("all",!0,!0);sizeHandles("all");s=options;$.each(_c.allPanes.split(","),function(e,t){i=$Ps[t];if(!i)return;state[t].isVisible&&_execCallback(t,s[t].onresize_end||s[t].onresize);resizeNestedLayout(t)});_execCallback(null,s.onresizeall_end||s.onresizeall)},resizeNestedLayout=function(e){var t=$Ps[e],n=$Cs[e],r="layoutContainer";options[e].resizeNestedLayout&&(t.data(r)?t.layout().resizeAll():n&&n.data(r)&&n.layout().resizeAll())},sizeContent=function(e,t){if(!e||e=="all")e=_c.allPanes;$.each(e.split(","),function(e,n){function f(e){return max(o.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function l(){var e=options[n].contentIgnoreSelector,t=i.nextAll().not(e||":lt(0)"),r=t.filter(":visible"),s=r.filter(":last");u={top:i[0].offsetTop,height:i.outerHeight(),numFooters:t.length,hiddenFooters:t.length-r.length,spaceBelow:0};u.spaceAbove=u.top;u.bottom=u.top+u.height;s.length?u.spaceBelow=s[0].offsetTop+s.outerHeight()-u.bottom+f(s):u.spaceBelow=f(i)}var r=$Ps[n],i=$Cs[n],s=options[n],o=state[n],u=o.content;if(!r||!i||!r.is(":visible"))return!0;if(!1===_execCallback(null,s.onsizecontent_start))return;if(!_c.isLayoutBusy||u.top==undefined||t||s.resizeContentWhileDragging){l();if(u.hiddenFooters>0&&r.css("overflow")=="hidden"){r.css("overflow","visible");l();r.css("overflow","hidden")}}var a=o.innerHeight-(u.spaceAbove-o.css.paddingTop)-(u.spaceBelow-o.css.paddingBottom);if(!i.is(":visible")||u.height!=a){setOuterHeight(i,a,!0);u.height=a}if(state.initialized){_execCallback(n,s.onsizecontent_end||s.onsizecontent);resizeNestedLayout(n)}})},sizeHandles=function(e){if(!e||e=="all")e=_c.borderPanes;$.each(e.split(","),function(e,t){var n=options[t],r=state[t],i=$Ps[t],s=$Rs[t],o=$Ts[t],u;if(!i||!s)return;var a=_c[t].dir,f=r.isClosed?"_closed":"_open",l=n["spacing"+f],c=n["togglerAlign"+f],h=n["togglerLength"+f],p,d,v={};if(l==0){s.hide();return}!r.noRoom&&!r.isHidden&&s.show();if(a=="horz"){p=i.outerWidth();r.resizerLength=p;s.css({width:max(1,cssW(s,p)),height:max(0,cssH(s,l)),left:_cssNum(i,"left")})}else{p=i.outerHeight();r.resizerLength=p;s.css({height:max(1,cssH(s,p)),width:max(0,cssW(s,l)),top:sC.insetTop+getPaneSize("north",!0)})}removeHover(n,s);if(o){if(h==0||r.isSliding&&n.hideTogglerOnSlide){o.hide();return}o.show();if(!(h>0)||h=="100%"||h>p){h=p;d=0}else if(isStr(c))switch(c){case"top":case"left":d=0;break;case"bottom":case"right":d=p-h;break;case"middle":case"center":default:d=Math.floor((p-h)/2)}else{var m=parseInt(c,10);c>=0?d=m:d=p-h+m}if(a=="horz"){var g=cssW(o,h);o.css({width:max(0,g),height:max(1,cssH(o,l)),left:d,top:0});o.children(".content").each(function(){u=$(this);u.css("marginLeft",Math.floor((g-u.outerWidth())/2))})}else{var y=cssH(o,h);o.css({height:max(0,y),width:max(1,cssW(o,l)),top:d,left:0});o.children(".content").each(function(){u=$(this);u.css("marginTop",Math.floor((y-u.outerHeight())/2))})}removeHover(0,o)}if(!state.initialized&&n.initHidden){s.hide();o&&o.hide()}})},swapPanes=function(e,t){function o(e){var t=$Ps[e],n=$Cs[e];return t?{pane:e,P:t?t[0]:!1,C:n?n[0]:!1,state:$.extend({},state[e]),options:$.extend({},options[e])}:!1}function u(e,t){if(!e)return;var n=e.P,r=e.C,i=e.pane,o=_c[t],u=o.side.toLowerCase(),a="inset"+o.side,f=$.extend({},state[t]),l=options[t],c={resizerCursor:l.resizerCursor},h,p,d;$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){c[t]=l[t];c[t+"_open"]=l[t+"_open"];c[t+"_close"]=l[t+"_close"]});$Ps[t]=$(n).data("layoutEdge",t).css(_c.hidden).css(o.cssReq);$Cs[t]=r?$(r):!1;options[t]=$.extend({},e.options,c);state[t]=$.extend({},e.state);h=new RegExp(l.paneClass+"-"+i,"g");n.className=n.className.replace(h,l.paneClass+"-"+t);initHandles(t);if(o.dir!=_c[i].dir){p=s[t]||0;setSizeLimits(t);p=max(p,state[t].minSize);manualSizePane(t,p,!0)}else $Rs[t].css(u,sC[a]+(state[t].isVisible?getPaneSize(t):0));if(e.state.isVisible&&!f.isVisible)setAsOpen(t,!0);else{setAsClosed(t);bindStartSlidingEvent(t,!0)}e=null}state[e].edge=t;state[t].edge=e;var n=!1;!1===_execCallback(e,options[e].onswap_start)&&(n=!0);!n&&!1===_execCallback(t,options[t].onswap_start)&&(n=!0);if(n){state[e].edge=e;state[t].edge=t;return}var r=o(e),i=o(t),s={};s[e]=r?r.state.size:0;s[t]=i?i.state.size:0;$Ps[e]=!1;$Ps[t]=!1;state[e]={};state[t]={};$Ts[e]&&$Ts[e].remove();$Ts[t]&&$Ts[t].remove();$Rs[e]&&$Rs[e].remove();$Rs[t]&&$Rs[t].remove();$Rs[e]=$Rs[t]=$Ts[e]=$Ts[t]=!1;u(r,t);u(i,e);r=i=s=null;$Ps[e]&&$Ps[e].css(_c.visible);$Ps[t]&&$Ps[t].css(_c.visible);resizeAll();_execCallback(e,options[e].onswap_end||options[e].onswap);_execCallback(t,options[t].onswap_end||options[t].onswap);return},$Container=$(this).eq(0);if(!$Container.length)return null;if($Container.data("layoutContainer"))return $.extend({},window[$Container.data("layoutContainer")]);var $Ps={},$Cs={},$Rs={},$Ts={},sC=state.container,sID=state.id;_create();var Instance={options:options,state:state,container:$Container,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,toggle:toggle,hide:hide,show:show,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,initContent:initContent,sizeContent:sizeContent,sizePane:manualSizePane,swapPanes:swapPanes,resizeAll:resizeAll,destroy:destroy,setSizeLimits:setSizeLimits,bindButton:bindButton,addToggleBtn:addToggleBtn,addOpenBtn:addOpenBtn,addCloseBtn:addCloseBtn,addPinBtn:addPinBtn,allowOverflow:allowOverflow,resetOverflow:resetOverflow,encodeJSON:encodeJSON,decodeJSON:decodeJSON,getState:getState,getCookie:getCookie,saveCookie:saveCookie,deleteCookie:deleteCookie,loadCookie:loadCookie,loadState:loadState,cssWidth:cssW,cssHeight:cssH};window[sID]=Instance;return Instance}})(jQuery);