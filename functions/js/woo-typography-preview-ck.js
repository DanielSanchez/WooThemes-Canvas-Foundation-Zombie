/**
 * WooThemes Typography Live Preview
 * 2011-10-07.
 *
 * @description The code below is designed to generate a live preview using the
 * setting specified in a "custom typography" field in the WooFramework.
 *
 * @since 4.7.0
 */(function(e){wooTypographyPreview={loadPreviewButtons:function(){var t='<a href="#" class="woo-typography-preview-button button submit-button" title="Preview your customized typography settings"><span>+</span></a>';e("input.woo-typography-color").each(function(n){e(this).after(t)});wooTypographyPreview.handleEvents()},handleEvents:function(){e("a.woo-typography-preview-button").live("click",function(){wooTypographyPreview.generatePreview(e(this));return!1});e("a.preview_remove").live("click",function(){wooTypographyPreview.closePreview(e(this));return!1})},closePreview:function(e){e.parents(".section").find(".woo-typography-preview-button .refresh").removeClass("refresh");e.parents(".typography-preview-container").remove()},generatePreview:function(t){var n="Grumpy wizards make toxic brew for the evil Queen and Jack.",r="",i="",s=t.parents(".controls"),o=t.parents(".controls").next(".explain"),u=s.find(".woo-typography-unit").val(),a=".woo-typography-size-px";u=="em"&&(a=".woo-typography-size-em");var f=s.find(a).val(),l=s.find(".woo-typography-face").val(),c=s.find(".woo-typography-style").val(),h=s.find(".woo-typography-color").val(),p=parseInt(f)/2+parseInt(f);u=="em"&&(p=1);var d=new Array("Arial, sans-serif","Verdana, Geneva, sans-serif","&quot;Trebuchet MS&quot;, Tahoma, sans-serif","Georgia, serif","&quot;Times New Roman&quot;, serif","Tahoma, Geneva, Verdana, sans-serif","Palatino, &quot;Palatino Linotype&quot;, serif","&quot;Helvetica Neue&quot;, Helvetica, sans-serif","Calibri, Candara, Segoe, Optima, sans-serif","&quot;Myriad Pro&quot;, Myriad, sans-serif","&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, &quot;Lucida Sans&quot;, sans-serif","&quot;Arial Black&quot;, sans-serif","&quot;Gill Sans&quot;, &quot;Gill Sans MT&quot;, Calibri, sans-serif","Geneva, Tahoma, Verdana, sans-serif","Impact, Charcoal, sans-serif","Courier, &quot;Courier New&quot;, monospace");e(".typography-preview").removeClass("current");var v=l.replace(/"/g,"&quot;");if(jQuery.inArray(v,d)==-1){var m=l;switch(m){case"Allan":case"Cabin Sketch":case"Corben":case"UnifrakturCook":m+=":700";break;case"Buda":case"Open Sans Condensed":m+=":300";break;case"Coda":case"Sniglet":m+=":800";break;case"Raleway":m+=":100"}m+="::latin";m=m.replace(/ /g,"+");var g=new Array("Goudy Bookletter 1911");if(jQuery.inArray(l,g)>-1)var l="'"+l+"'";WebFontConfig={google:{families:[m]}};e("script.google-webfonts-script").length&&e("script.google-webfonts-script").remove();(function(){var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";t.type="text/javascript";t.async="true";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);e(t).addClass("google-webfonts-script")})()}i+="font: "+c+" "+f+u+"/"+p+u+" "+l+";";h&&(i+=" color: "+h+";");var y=jQuery("<div />").addClass("current").addClass("typography-preview").text(n).before('<a href="#" class="preview_remove button">Close Preview</a>');r=jQuery("<div />").addClass("typography-preview-container").html(y);if(!o.next(".typography-preview-container").length){r.find(".typography-preview").attr("style",i);o.after(r)}else o.next(".typography-preview-container").find(".typography-preview").attr("style",i);s.find(".woo-typography-preview-button span").addClass("refresh")}};e(document).ready(function(){wooTypographyPreview.loadPreviewButtons()})})(jQuery);