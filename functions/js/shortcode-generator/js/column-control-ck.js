function wooColumnMaker(e,t,n){this.parentControl=e;var r=this;this.width=250;this.maxColumns=t;this.buttonsControl=this.textControl=this.selectControl=null;this.init=function(){this.buildSelectControl();this.buildColumnButtons(0);this.buildTextControl()};this.getTotalColumns=function(){return Number(r.selectControl.find("option:selected").val())};this.buildSelectControl=function(){this.selectControl=jQuery("<select></select>").attr("id","woo-column-select").addClass(n?n:"");var e=jQuery("<option></option>").attr("value","select").attr("selected","selected").text("Number of columns...");e.appendTo(this.selectControl);for(var t=2;t<=this.maxColumns;t++){e=jQuery("<option></option>").attr("value",t).text(t+" columns");e.appendTo(this.selectControl)}this.selectControl.change(function(e){(e=r.getTotalColumns())&&r.buildColumnButtons(e);var t=jQuery(this).children("option:selected").text();jQuery(this).parents(".select_wrapper").find("span").text(t)});this.parentControl.append(this.selectControl)};this.buildTextControl=function(){var e=jQuery("<div>").attr("style","position: relative;margin-top: 5px; width: "+this.width+"px;");e.appendTo(this.parentControl);this.textControl=jQuery("<div>&nbsp;</div>").attr("id","woo-column-text").attr("style","width: "+(this.width-50)+"px");e.append(this.textControl);var t=jQuery("<input>").attr("type","button").attr("style","width: 40px;position:absolute;right: 0px;bottom: -2px;font-size: 22px; border:none;background:none;").attr("value","âŒ«");e.append(t);t.click(function(){r.deleteColumnButtonClicked()})};this.buildColumnButtons=function(e){if(this.buttonsControl){this.buttonsControl.html("");this.textControl.html("&nbsp;")}else{this.buttonsControl=jQuery("<div></div>").attr("id","woo-column-buttons");this.parentControl.append(this.buttonsControl);jQuery('<div style="clear:both"></div>').appendTo(this.parentControl)}for(var t=1;t<e;t++){var n=jQuery("<input>").attr("type","button").attr("value",t+"/"+e).attr("name",t).attr("style","width:"+Math.floor(this.width*(t/e))+"px").addClass("column-button").addClass("rounded5p");n.click(function(e){r.columnButtonClicked(e)});this.buttonsControl.append(n)}};this.deleteColumnButtonClicked=function(){var e=jQuery.trim(this.textControl.text()),t=e.lastIndexOf("|");e=t!=-1?jQuery.trim(e.substring(0,t)):"&nbsp;";this.textControl.html(e);this.updateColumnButtonsState()};this.columnButtonClicked=function(e){var t=Number(e.target.name);if(t){e="";for(var n=0;n<t;n++)e+="x";t=jQuery.trim(this.textControl.text());t.length>0&&(e=" | "+e);this.textControl.text(t+e);this.updateColumnButtonsState()}};this.updateColumnButtonsState=function(){var e=this.getTotalColumns();if(e){var t=this.countCurrentColumns(),n=e-t;this.buttonsControl.find("input").each(function(e,t){e>=n?jQuery(t).attr("disabled","disabled"):jQuery(t).removeAttr("disabled")})}};this.countCurrentColumns=function(){for(var e=this.textControl.text(),t=0,n=0;n<e.length;n++)e.charAt(n)=="x"&&t++;return t};this.init()};