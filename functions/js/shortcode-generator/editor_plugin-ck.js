(function(){var e=document.getElementsByTagName("script"),t=e[e.length-1].src;if(e.length)for(i in e){var n="";typeof e[i].src!="undefined"&&(n=e[i].src);var r=n.search("shortcode-generator");r!=-1&&(t=e[i].src)}var s=t.split("/js/"),o=s[0]+"/images/shortcode-icon.png";tinymce.create("tinymce.plugins.WooThemesShortcodes",{init:function(e,t){var n="";n==""&&jQuery.post(ajaxurl,{action:"woo_shortcodes_nonce"},function(e){n=e});e.addCommand("wooVisitWooThemes",function(){window.open("http://woothemes.com/")});e.addCommand("wooOpenDialog",function(r,i){selectedText="";e.selection.getContent().length>0&&(selectedText=e.selection.getContent());wooSelectedShortcodeType=i.identifier;wooSelectedShortcodeTitle=i.title;jQuery.get(t+"/dialog.php?woo-shortcodes-nonce="+n,function(e){jQuery("#woo-options").addClass("shortcode-"+wooSelectedShortcodeType);switch(wooSelectedShortcodeType){case"highlight":var t="[highlight]"+selectedText+"[/highlight]";tinyMCE.activeEditor.execCommand("mceInsertContent",!1,t);break;case"dropcap":var t="[dropcap]"+selectedText+"[/dropcap]";tinyMCE.activeEditor.execCommand("mceInsertContent",!1,t);break;default:jQuery("#woo-dialog").remove();jQuery("body").append(e);jQuery("#woo-dialog").hide();var n=jQuery(window).width();e=jQuery(window).height();n=720<n?720:n;n-=80;e-=84;tb_show("Insert WooThemes "+wooSelectedShortcodeTitle+" Shortcode","#TB_inline?width="+n+"&height="+e+"&inlineId=woo-dialog");jQuery("#woo-options h3:first").text("Customize the "+i.title+" Shortcode")}})})},createControl:function(e,t){if(e=="woothemes_shortcodes_button"){e=t.createMenuButton("woothemes_shortcodes_button",{title:"Insert WooThemes Shortcode",image:o,icons:!1});var n=this;e.onRenderMenu.add(function(e,t){n.addWithDialog(t,"Button","button");n.addWithDialog(t,"Icon Link","ilink");t.addSeparator();n.addWithDialog(t,"Info Box","box");e=t.addMenu({title:"Typography"});n.addWithDialog(e,"Dropcap","dropcap");n.addWithDialog(e,"Quote","quote");n.addWithDialog(e,"Highlight","highlight");n.addWithDialog(e,"Custom Typography","typography");n.addWithDialog(e,"Abbreviation","abbr");n.addWithDialog(t,"Content Toggle","toggle");n.addWithDialog(t,"Related Posts","related");n.addWithDialog(t,"Contact Form","contactform");t.addSeparator();n.addWithDialog(t,"Column Layout","column");n.addWithDialog(t,"Tab Layout","tab");t.addSeparator();e=t.addMenu({title:"List Generator"});n.addWithDialog(e,"Unordered List","unordered_list");n.addWithDialog(e,"Ordered List","ordered_list");e=t.addMenu({title:"Dividers"});n.addImmediate(e,"Horizontal Rule","[hr] ");n.addImmediate(e,"Divider","[divider] ");n.addImmediate(e,"Flat Divider","[divider_flat] ");e=t.addMenu({title:"Social Buttons"});n.addWithDialog(e,"Social Profile Icon","social_icon");e.addSeparator();n.addWithDialog(e,"Twitter","twitter");n.addWithDialog(e,"Twitter Follow Button","twitter_follow");n.addWithDialog(e,"Tweetmeme","tweetmeme");n.addWithDialog(e,"Digg","digg");n.addWithDialog(e,"Like on Facebook","fblike");n.addWithDialog(e,"Share on Facebook","fbshare");n.addWithDialog(e,"Share on LinkedIn","linkedin_share");n.addWithDialog(e,"Google +1 Button","google_plusone");n.addWithDialog(e,"StumbleUpon Badge","stumbleupon");n.addWithDialog(e,"Pinterest Pin It Button","pinterest")});return e}return null},addImmediate:function(e,t,n){e.add({title:t,onclick:function(){tinyMCE.activeEditor.execCommand("mceInsertContent",!1,n)}})},addWithDialog:function(e,t,n){e.add({title:t,onclick:function(){tinyMCE.activeEditor.execCommand("wooOpenDialog",!1,{title:t,identifier:n})}})},getInfo:function(){return{longname:"WooThemes Shortcode Generator",author:"VisualShortcodes.com",authorurl:"http://visualshortcodes.com",infourl:"http://visualshortcodes.com/shortcode-ninja",version:"1.0"}}});tinymce.PluginManager.add("WooThemesShortcodes",tinymce.plugins.WooThemesShortcodes)})();